(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e2a32fce"],{"00d3":function(e,t,a){"use strict";var s=a("8e4c"),n=a.n(s);n.a},"8e4c":function(e,t,a){},ee52:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"form"},[a("el-form",{ref:"form",staticClass:"demo-ruleForm",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"模型名称",prop:"name",rules:[{required:!0,message:"请输入模型名称",trigger:"blur"}]}},[a("el-input",{attrs:{maxlength:"10","show-word-limit":""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"模型说明",prop:"description",rules:[{required:!0,message:"请输入模型说明",trigger:"blur"}]}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),e._v(" "),a("el-form-item",[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"","on-error":e.uploadError,"on-success":e.uploadSuccess,"on-change":e.handleChange,"auto-upload":!1,limit:2,drag:"","file-list":e.fileList,"on-exceed":e.handleExceed}},[a("i",{staticClass:"el-icon-upload"}),e._v(" "),a("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),a("em",[e._v("点击选择文件")])]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传txt文件，需要上传两个文件：virus_result.txt和usual_result.txt，每个文件大小不能超过1M。")])])],1),e._v(" "),a("el-form-item",[a("center",[a("el-button",{attrs:{type:"primary",disabled:e.disabled,loading:e.doing},on:{click:function(t){return e.submitForm()}}},[e._v(e._s(e.doing?"评测中":"开始评测"))])],1)],1)],1)],1)]),e._v(" "),a("el-col",{attrs:{span:16}},[a("markdown-it-vue",{staticClass:"md-body",attrs:{content:e.content}})],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{width:"80",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[t.row.status?a("el-tag",{attrs:{type:"success"}},[e._v("成功")]):a("el-tag",{attrs:{type:"danger"}},[e._v("失败")])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"评测日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.start_time))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"模型名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.model_name))])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"模型说明"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.description))])]}}])})],1)],1)},n=[],o=(a("7f7f"),a("48cd")),r=a.n(o),l=(a("f417"),a("b775")),i={components:{MarkdownItVue:r.a},data:function(){return{content:"**自动评测说明**\n- 请先填写队伍信息再提交评测结果！\n - **提交时间**：2020年8月9日 00:00:00 到 2020年8月10日 23:59:59（**逾期无法补交**）。\n- 请提交**最终评测集**结果：virus_result.txt和usual_result.txt，具体提交格式请参见评测说明 \n - 取**最后一次成功提交的结果**作为参与排行榜的结果\n - 单个文件大小不得超过3M，每日最多提交3次，较大文件上传需要一定时间，点击评测后请耐心等待。 \n - **各参赛单位不可以使用除承办方提供的训练数据之外的带有情绪标签的标注数据（未标注数据和其他任务的标注数据可用），使用其他数据的参赛者在最终提交代码时，需要将外部数据一并提交，要求实验训练过程和结果可以复现。如若不确定外部数据是否可用，请发邮件与组委会联系。**\n- 如有问题请咨询smp2020ewect@163.com",form:{name:"",description:""},tableData:[],doing:!1,disabled:!1,cont:0,fileList:[]}},mounted:function(){var e=this;Object(l["a"])({url:"/evaluation/test_history",method:"get"}).then((function(t){2e3===t.code?(e.tableData=t.data,e.cont=e.tableData.length):e.$message.warning(t.msg)})),Object(l["a"])({url:"/evaluation/api/test_judge",method:"get"}).then((function(t){if(2e3!==t.code)return e.$message.error(t.msg),!1;1===t.data.status?(e.doing=!0,e.$message.warning("正在评测中！")):2===t.data.status?(e.disabled=!0,e.$message.warning(t.msg)):t.data.status}))},methods:{downloadLog:function(e,t){alert(e,t),console.log(e,t)},uploadSuccess:function(e,t,a){},uploadError:function(){this.$refs.upload.clearFiles(),this.$message.error("上传失败，请重新上传")},handleExceed:function(e,t){this.$message.warning("您只能上传2个文件！")},handleChange:function(e,t){this.fileList=t,console.log(e)},beforeUpload:function(e){var t=e.name.substring(e.name.lastIndexOf(".")+1),a="txt"===t,s=e.size/1024/1024<3;return a||this.$message.warning("只允许上传txt文件"),s||this.$message.warning("上传文件大小不能超过 3MB!"),a&&s},submitForm:function(){var e=this;this.$refs.form.validate((function(t){if(t){var a=new FormData;if(2!==e.fileList.length)return void e.$message.warning("请上传2个文件:virus_result.txt和usual_result.txt！");for(var s in console.log(e.fileList),console.log(e.fileList[0]),e.fileList)console.log(e.fileList[s]),a.append("file",e.fileList[s]["raw"]);a.append("model_name",e.form.name),a.append("description",e.form.description),e.disabled=!0,Object(l["a"])({url:"/evaluation/api/test_autotest",method:"post",data:a,headers:{"Content-Type":"multipart/form-data"},timeout:6e4}).then((function(t){if(2e3!==t.code)return e.$message.error(t.msg),!1;1===t.data.status?(e.doing=!0,e.disabled=!0,e.$message.warning("正在评测中！")):2===t.data.status?(e.disabled=!0,e.$message.warning(t.msg)):3===t.data.status&&(e.doing=!0,e.$refs.upload.clearFiles(),e.$message.success("后台已经开始自动评测，请等待邮件通知！"))}))}else e.$message.error("请填入模型名称和模型说明")}))}}},u=i,d=(a("00d3"),a("2877")),c=Object(d["a"])(u,s,n,!1,null,"5dc7fe80",null);t["default"]=c.exports}}]);